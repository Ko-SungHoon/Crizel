<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="girls">
	<select id="girlsGetName" resultType="String">
		SELECT MIN(NAME) NAME FROM GIRLS
	</select>
	
	<select id="nameList" resultType="com.crizel.girls.GirlsVO">
		SELECT NAME FROM GIRLS GROUP BY NAME ORDER BY NAME
	</select>
	
	<insert id="girlsInsert" parameterType="com.crizel.girls.GirlsVO">	
		<!-- <selectKey order="BEFORE" keyProperty="g_id">select ifnull(max(g_id)+1, 1) as g_id from girls</selectKey> -->
		INSERT INTO GIRLS(G_ID, NAME, ADDR, TYPE, TAG1, TAG2) 
		VALUES((SELECT G_ID FROM (SELECT IFNULL(MAX(G_ID)+1, 1) AS G_ID FROM GIRLS) GIRLS), #{name}, #{addr}, #{type}, #{tag1}, #{tag2})
	</insert>
	
	<delete id="girlsDelete" parameterType="com.crizel.girls.GirlsVO">
		DELETE FROM GIRLS WHERE G_ID = #{g_id}
	</delete>
	
	<select id="girlsImg" parameterType="String" resultType="com.crizel.girls.GirlsVO">
		SELECT * FROM GIRLS WHERE NAME = #{name}
	</select>
	
	<select id="girlsList" resultType="com.crizel.girls.GirlsVO">
		SELECT * FROM GIRLS ORDER BY NAME
	</select>
	
	<select id="girlsInfo" resultType="com.crizel.girls.GirlsVO" parameterType="String">
		SELECT * FROM GIRLS WHERE NAME = #{name}
	</select>
</mapper>