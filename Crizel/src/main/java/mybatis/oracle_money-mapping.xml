<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="money">
	<select id="moneyList" parameterType="HashMap" resultType="HashMap">
		SELECT DAY, SUM(PRICE) AS PRICE
		FROM MONEY
		WHERE SUBSTR(DAY,0,4) = #{year} AND SUBSTR(DAY,5,2) = #{month}
		GROUP BY DAY
	</select>
	
	<select id="moneySum" parameterType="HashMap" resultType="String">
		SELECT SUM(PRICE) AS PRICE
		FROM MONEY
		WHERE SUBSTR(DAY,0,4) = #{year} AND SUBSTR(DAY,5,2) = #{month}
	</select>
	
	<select id="moneyView" parameterType="String" resultType="money.MoneyVO">
		SELECT *
		FROM MONEY
		WHERE DAY = #{day}
		ORDER BY ITEM
	</select>
	
	<insert id="moneyInsert" parameterType="money.MoneyVO">
		INSERT INTO MONEY(MONEY_ID, DAY, ITEM, PRICE)
		VALUES((SELECT NVL(MAX(MONEY_ID)+1, 1) FROM MONEY), #{day}, #{item}, #{price})
	</insert>
	
	<delete id="moneyDelete" parameterType="String">
		DELETE FROM MONEY WHERE MONEY_ID = #{money_id}
	</delete>
</mapper>