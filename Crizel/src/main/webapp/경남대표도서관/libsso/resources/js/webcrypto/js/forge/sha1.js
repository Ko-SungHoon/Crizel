/**
 * Secure Hash Algorithm with 160-bit digest (SHA-1) implementation.
 *
 * @author Dave Longley
 *
 * Copyright (c) 2010-2015 Digital Bazaar, Inc.
 */
!function(){function e(e){function t(){l=String.fromCharCode(128),l+=e.util.fillString(String.fromCharCode(0),64),h=!0}function n(e,t,n){for(var r,l,h,u,f,a,s,g,i=n.length();i>=64;){for(l=e.h0,h=e.h1,u=e.h2,f=e.h3,a=e.h4,g=0;16>g;++g)r=n.getInt32(),t[g]=r,s=f^h&(u^f),r=(l<<5|l>>>27)+s+a+1518500249+r,a=f,f=u,u=h<<30|h>>>2,h=l,l=r;for(;20>g;++g)r=t[g-3]^t[g-8]^t[g-14]^t[g-16],r=r<<1|r>>>31,t[g]=r,s=f^h&(u^f),r=(l<<5|l>>>27)+s+a+1518500249+r,a=f,f=u,u=h<<30|h>>>2,h=l,l=r;for(;32>g;++g)r=t[g-3]^t[g-8]^t[g-14]^t[g-16],r=r<<1|r>>>31,t[g]=r,s=h^u^f,r=(l<<5|l>>>27)+s+a+1859775393+r,a=f,f=u,u=h<<30|h>>>2,h=l,l=r;for(;40>g;++g)r=t[g-6]^t[g-16]^t[g-28]^t[g-32],r=r<<2|r>>>30,t[g]=r,s=h^u^f,r=(l<<5|l>>>27)+s+a+1859775393+r,a=f,f=u,u=h<<30|h>>>2,h=l,l=r;for(;60>g;++g)r=t[g-6]^t[g-16]^t[g-28]^t[g-32],r=r<<2|r>>>30,t[g]=r,s=h&u|f&(h^u),r=(l<<5|l>>>27)+s+a+2400959708+r,a=f,f=u,u=h<<30|h>>>2,h=l,l=r;for(;80>g;++g)r=t[g-6]^t[g-16]^t[g-28]^t[g-32],r=r<<2|r>>>30,t[g]=r,s=h^u^f,r=(l<<5|l>>>27)+s+a+3395469782+r,a=f,f=u,u=h<<30|h>>>2,h=l,l=r;e.h0=e.h0+l|0,e.h1=e.h1+h|0,e.h2=e.h2+u|0,e.h3=e.h3+f|0,e.h4=e.h4+a|0,i-=64}}var r=e.sha1=e.sha1||{};e.md=e.md||{},e.md.algorithms=e.md.algorithms||{},e.md.sha1=e.md.algorithms.sha1=r,r.create=function(){h||t();var r=null,u=e.util.createBuffer(),f=new Array(80),a={algorithm:"sha1",blockLength:64,digestLength:20,messageLength:0,fullMessageLength:null,messageLengthSize:8};return a.start=function(){a.messageLength=0,a.fullMessageLength=a.messageLength64=[];for(var t=a.messageLengthSize/4,n=0;t>n;++n)a.fullMessageLength.push(0);return u=e.util.createBuffer(),r={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520},a},a.start(),a.update=function(t,l){"utf8"===l&&(t=e.util.encodeUtf8(t));var h=t.length;a.messageLength+=h,h=[h/4294967296>>>0,h>>>0];for(var s=a.fullMessageLength.length-1;s>=0;--s)a.fullMessageLength[s]+=h[1],h[1]=h[0]+(a.fullMessageLength[s]/4294967296>>>0),a.fullMessageLength[s]=a.fullMessageLength[s]>>>0,h[0]=h[1]/4294967296>>>0;return u.putBytes(t),n(r,f,u),(u.read>2048||0===u.length())&&u.compact(),a},a.digest=function(){var t=e.util.createBuffer();t.putBytes(u.bytes());var h=a.fullMessageLength[a.fullMessageLength.length-1]+a.messageLengthSize,s=h&a.blockLength-1;t.putBytes(l.substr(0,a.blockLength-s));for(var g,i,o=(e.util.createBuffer(),8*a.fullMessageLength[0]),c=0;c<a.fullMessageLength.length;++c)g=8*a.fullMessageLength[c+1],i=g/4294967296>>>0,o+=i,t.putInt32(o>>>0),o=g;var d={h0:r.h0,h1:r.h1,h2:r.h2,h3:r.h3,h4:r.h4};n(d,f,t);var p=e.util.createBuffer();return p.putInt32(d.h0),p.putInt32(d.h1),p.putInt32(d.h2),p.putInt32(d.h3),p.putInt32(d.h4),p},a};var l=null,h=!1}var t="sha1";if("function"!=typeof define){if("object"!=typeof module||!module.exports)return"undefined"==typeof forge&&(forge={}),e(forge);var n=!0;define=function(e,t){t(require,module)}}var r,l=function(n,l){l.exports=function(l){var h=r.map(function(e){return n(e)}).concat(e);if(l=l||{},l.defined=l.defined||{},l.defined[t])return l[t];l.defined[t]=!0;for(var u=0;u<h.length;++u)h[u](l);return l[t]}},h=define;define=function(e,t){return r="string"==typeof e?t.slice(2):e.slice(2),n?(delete define,h.apply(null,Array.prototype.slice.call(arguments,0))):(define=h,define.apply(null,Array.prototype.slice.call(arguments,0)))},define(["require","module","./util"],function(){l.apply(null,Array.prototype.slice.call(arguments,0))})}();