/**
 * Secure Hash Algorithm with a 1024-bit block size implementation.
 *
 * This includes: SHA-512, SHA-384, SHA-512/224, and SHA-512/256. For
 * SHA-256 (block size 512 bits), see sha256.js.
 *
 * See FIPS 180-4 for details.
 *
 * @author Dave Longley
 *
 * Copyright (c) 2014-2015 Digital Bazaar, Inc.
 */
!function(){function e(e){function t(){l=String.fromCharCode(128),l+=e.util.fillString(String.fromCharCode(0),128),u=[[1116352408,3609767458],[1899447441,602891725],[3049323471,3964484399],[3921009573,2173295548],[961987163,4081628472],[1508970993,3053834265],[2453635748,2937671579],[2870763221,3664609560],[3624381080,2734883394],[310598401,1164996542],[607225278,1323610764],[1426881987,3590304994],[1925078388,4068182383],[2162078206,991336113],[2614888103,633803317],[3248222580,3479774868],[3835390401,2666613458],[4022224774,944711139],[264347078,2341262773],[604807628,2007800933],[770255983,1495990901],[1249150122,1856431235],[1555081692,3175218132],[1996064986,2198950837],[2554220882,3999719339],[2821834349,766784016],[2952996808,2566594879],[3210313671,3203337956],[3336571891,1034457026],[3584528711,2466948901],[113926993,3758326383],[338241895,168717936],[666307205,1188179964],[773529912,1546045734],[1294757372,1522805485],[1396182291,2643833823],[1695183700,2343527390],[1986661051,1014477480],[2177026350,1206759142],[2456956037,344077627],[2730485921,1290863460],[2820302411,3158454273],[3259730800,3505952657],[3345764771,106217008],[3516065817,3606008344],[3600352804,1432725776],[4094571909,1467031594],[275423344,851169720],[430227734,3100823752],[506948616,1363258195],[659060556,3750685593],[883997877,3785050280],[958139571,3318307427],[1322822218,3812723403],[1537002063,2003034995],[1747873779,3602036899],[1955562222,1575990012],[2024104815,1125592928],[2227730452,2716904306],[2361852424,442776044],[2428436474,593698344],[2756734187,3733110249],[3204031479,2999351573],[3329325298,3815920427],[3391569614,3928383900],[3515267271,566280711],[3940187606,3454069534],[4118630271,4000239992],[116418474,1914138554],[174292421,2731055270],[289380356,3203993006],[460393269,320620315],[685471733,587496836],[852142971,1086792851],[1017036298,365543100],[1126000580,2618297676],[1288033470,3409855158],[1501505948,4234509866],[1607167915,987167468],[1816402316,1246189591]],f={},f["SHA-512"]=[[1779033703,4089235720],[3144134277,2227873595],[1013904242,4271175723],[2773480762,1595750129],[1359893119,2917565137],[2600822924,725511199],[528734635,4215389547],[1541459225,327033209]],f["SHA-384"]=[[3418070365,3238371032],[1654270250,914150663],[2438529370,812702999],[355462360,4144912697],[1731405415,4290775857],[2394180231,1750603025],[3675008525,1694076839],[1203062813,3204075428]],f["SHA-512/256"]=[[573645204,4230739756],[2673172387,3360449730],[596883563,1867755857],[2520282905,1497426621],[2519219938,2827943907],[3193839141,1401305490],[721525244,746961066],[246885852,2177182882]],f["SHA-512/224"]=[[2352822216,424955298],[1944164710,2312950998],[502970286,855612546],[1738396948,1479516111],[258812777,2077511080],[2011393907,79989058],[1067287976,1780299464],[286451373,2446758561]],s=!0}function n(e,t,n){for(var r,a,l,s,f,g,h,i,o,c,d,m,p,L,v,y,A,S,M,H,B,w,b,I,C,k,z,q,x,j,E,U,D,F,G,J=n.length();J>=128;){for(x=0;16>x;++x)t[x][0]=n.getInt32()>>>0,t[x][1]=n.getInt32()>>>0;for(;80>x;++x)U=t[x-2],j=U[0],E=U[1],r=((j>>>19|E<<13)^(E>>>29|j<<3)^j>>>6)>>>0,a=((j<<13|E>>>19)^(E<<3|j>>>29)^(j<<26|E>>>6))>>>0,F=t[x-15],j=F[0],E=F[1],l=((j>>>1|E<<31)^(j>>>8|E<<24)^j>>>7)>>>0,s=((j<<31|E>>>1)^(j<<24|E>>>8)^(j<<25|E>>>7))>>>0,D=t[x-7],G=t[x-16],E=a+D[1]+s+G[1],t[x][0]=r+D[0]+l+G[0]+(E/4294967296>>>0)>>>0,t[x][1]=E>>>0;for(p=e[0][0],L=e[0][1],v=e[1][0],y=e[1][1],A=e[2][0],S=e[2][1],M=e[3][0],H=e[3][1],B=e[4][0],w=e[4][1],b=e[5][0],I=e[5][1],C=e[6][0],k=e[6][1],z=e[7][0],q=e[7][1],x=0;80>x;++x)h=((B>>>14|w<<18)^(B>>>18|w<<14)^(w>>>9|B<<23))>>>0,i=((B<<18|w>>>14)^(B<<14|w>>>18)^(w<<23|B>>>9))>>>0,o=(C^B&(b^C))>>>0,c=(k^w&(I^k))>>>0,f=((p>>>28|L<<4)^(L>>>2|p<<30)^(L>>>7|p<<25))>>>0,g=((p<<4|L>>>28)^(L<<30|p>>>2)^(L<<25|p>>>7))>>>0,d=(p&v|A&(p^v))>>>0,m=(L&y|S&(L^y))>>>0,E=q+i+c+u[x][1]+t[x][1],r=z+h+o+u[x][0]+t[x][0]+(E/4294967296>>>0)>>>0,a=E>>>0,E=g+m,l=f+d+(E/4294967296>>>0)>>>0,s=E>>>0,z=C,q=k,C=b,k=I,b=B,I=w,E=H+a,B=M+r+(E/4294967296>>>0)>>>0,w=E>>>0,M=A,H=S,A=v,S=y,v=p,y=L,E=a+s,p=r+l+(E/4294967296>>>0)>>>0,L=E>>>0;E=e[0][1]+L,e[0][0]=e[0][0]+p+(E/4294967296>>>0)>>>0,e[0][1]=E>>>0,E=e[1][1]+y,e[1][0]=e[1][0]+v+(E/4294967296>>>0)>>>0,e[1][1]=E>>>0,E=e[2][1]+S,e[2][0]=e[2][0]+A+(E/4294967296>>>0)>>>0,e[2][1]=E>>>0,E=e[3][1]+H,e[3][0]=e[3][0]+M+(E/4294967296>>>0)>>>0,e[3][1]=E>>>0,E=e[4][1]+w,e[4][0]=e[4][0]+B+(E/4294967296>>>0)>>>0,e[4][1]=E>>>0,E=e[5][1]+I,e[5][0]=e[5][0]+b+(E/4294967296>>>0)>>>0,e[5][1]=E>>>0,E=e[6][1]+k,e[6][0]=e[6][0]+C+(E/4294967296>>>0)>>>0,e[6][1]=E>>>0,E=e[7][1]+q,e[7][0]=e[7][0]+z+(E/4294967296>>>0)>>>0,e[7][1]=E>>>0,J-=128}}var r=e.sha512=e.sha512||{};e.md=e.md||{},e.md.algorithms=e.md.algorithms||{},e.md.sha512=e.md.algorithms.sha512=r;var a=e.sha384=e.sha512.sha384=e.sha512.sha384||{};a.create=function(){return r.create("SHA-384")},e.md.sha384=e.md.algorithms.sha384=a,e.sha512.sha256=e.sha512.sha256||{create:function(){return r.create("SHA-512/256")}},e.md["sha512/256"]=e.md.algorithms["sha512/256"]=e.sha512.sha256,e.sha512.sha224=e.sha512.sha224||{create:function(){return r.create("SHA-512/224")}},e.md["sha512/224"]=e.md.algorithms["sha512/224"]=e.sha512.sha224,r.create=function(r){if(s||t(),"undefined"==typeof r&&(r="SHA-512"),!(r in f))throw new Error("Invalid SHA-512 algorithm: "+r);for(var a=f[r],u=null,g=e.util.createBuffer(),h=new Array(80),i=0;80>i;++i)h[i]=new Array(2);var o={algorithm:r.replace("-","").toLowerCase(),blockLength:128,digestLength:64,messageLength:0,fullMessageLength:null,messageLengthSize:16};return o.start=function(){o.messageLength=0,o.fullMessageLength=o.messageLength128=[];for(var t=o.messageLengthSize/4,n=0;t>n;++n)o.fullMessageLength.push(0);g=e.util.createBuffer(),u=new Array(a.length);for(var n=0;n<a.length;++n)u[n]=a[n].slice(0);return o},o.start(),o.update=function(t,r){"utf8"===r&&(t=e.util.encodeUtf8(t));var a=t.length;o.messageLength+=a,a=[a/4294967296>>>0,a>>>0];for(var l=o.fullMessageLength.length-1;l>=0;--l)o.fullMessageLength[l]+=a[1],a[1]=a[0]+(o.fullMessageLength[l]/4294967296>>>0),o.fullMessageLength[l]=o.fullMessageLength[l]>>>0,a[0]=a[1]/4294967296>>>0;return g.putBytes(t),n(u,h,g),(g.read>2048||0===g.length())&&g.compact(),o},o.digest=function(){var t=e.util.createBuffer();t.putBytes(g.bytes());var a=o.fullMessageLength[o.fullMessageLength.length-1]+o.messageLengthSize,s=a&o.blockLength-1;t.putBytes(l.substr(0,o.blockLength-s));for(var f,i,c=(e.util.createBuffer(),8*o.fullMessageLength[0]),d=0;d<o.fullMessageLength.length;++d)f=8*o.fullMessageLength[d+1],i=f/4294967296>>>0,c+=i,t.putInt32(c>>>0),c=f;for(var m=new Array(u.length),d=0;d<u.length;++d)m[d]=u[d].slice(0);n(m,h,t);var p,L=e.util.createBuffer();p="SHA-512"===r?m.length:"SHA-384"===r?m.length-2:m.length-4;for(var d=0;p>d;++d)L.putInt32(m[d][0]),(d!==p-1||"SHA-512/224"!==r)&&L.putInt32(m[d][1]);return L},o};var l=null,s=!1,u=null,f=null}var t="sha512";if("function"!=typeof define){if("object"!=typeof module||!module.exports)return"undefined"==typeof forge&&(forge={}),e(forge);var n=!0;define=function(e,t){t(require,module)}}var r,a=function(n,a){a.exports=function(a){var l=r.map(function(e){return n(e)}).concat(e);if(a=a||{},a.defined=a.defined||{},a.defined[t])return a[t];a.defined[t]=!0;for(var s=0;s<l.length;++s)l[s](a);return a[t]}},l=define;define=function(e,t){return r="string"==typeof e?t.slice(2):e.slice(2),n?(delete define,l.apply(null,Array.prototype.slice.call(arguments,0))):(define=l,define.apply(null,Array.prototype.slice.call(arguments,0)))},define(["require","module","./util"],function(){a.apply(null,Array.prototype.slice.call(arguments,0))})}();