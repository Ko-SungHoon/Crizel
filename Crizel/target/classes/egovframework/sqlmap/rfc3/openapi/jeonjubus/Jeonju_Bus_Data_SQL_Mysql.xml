<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd" >
<sqlMap namespace="JeonjuBusDataManage">
	<typeAlias  alias="jeonjuBusNosunSearchVO"	type = "egovframework.rfc3.openapijeonjubus.vo.JeonjuBusNosunSearchVO"/>
	<typeAlias  alias="jeonjuBusNosunRouteVO"	type = "egovframework.rfc3.openapijeonjubus.vo.JeonjuBusNosunRouteVO"/>
	<typeAlias  alias="jeonjuBusStopInfoVO" type = "egovframework.rfc3.openapijeonjubus.vo.JeonjuBusStopInfoVO"/>
	<typeAlias  alias="jeonjuBusStopSearchVO" type = "egovframework.rfc3.openapijeonjubus.vo.JeonjuBusStopSearchVO"/>
	<typeAlias  alias="jeonjuBusLowListVO" type = "egovframework.rfc3.openapijeonjubus.vo.JeonjuBusLowListVO"/>
	<typeAlias  alias="jeonjuRoadStatusVO" type = "egovframework.rfc3.openapijeonjubus.vo.JeonjuRoadStatusVO"/>
	<typeAlias  alias="jeonjuRoadStatusDetailVO" type = "egovframework.rfc3.openapijeonjubus.vo.JeonjuRoadStatusDetailVO"/>
	<typeAlias  alias="jeonjuCctvListVO" type = "egovframework.rfc3.openapijeonjubus.vo.JeonjuCctvListVO"/>
	<typeAlias  alias="jeonjuNosunInfoVO" type = "egovframework.rfc3.openapijeonjubus.vo.JeonjuNosunInfoVO"/>
	<typeAlias  alias="jeonjuNosunTimeVO" type = "egovframework.rfc3.openapijeonjubus.vo.JeonjuNosunTimeVO"/>
	<typeAlias  alias="jeonjuRouteSearchVO" type = "egovframework.rfc3.openapijeonjubus.vo.JeonjuRouteSearchVO"/>
	<typeAlias  alias="jeonjuRouteNonstopDetailSearchVO" type = "egovframework.rfc3.openapijeonjubus.vo.JeonjuRouteNonstopDetailSearchVO"/>
	<typeAlias  alias="jeonjuRouteTransferDetailSearchVO" type = "egovframework.rfc3.openapijeonjubus.vo.JeonjuRouteTransferDetailSearchVO"/>
	<typeAlias  alias="jeonjuNosunByWayStopVO" type = "egovframework.rfc3.openapijeonjubus.vo.JeonjuNosunByWayStopVO"/>
	<typeAlias  alias="jeonjuBusStopNosunInfoVO" type = "egovframework.rfc3.openapijeonjubus.vo.JeonjuBusStopNosunInfoVO"/>
	<typeAlias  alias="jeonjuBusStopNosunDrawingVO" type = "egovframework.rfc3.openapijeonjubus.vo.JeonjuBusStopNosunDrawingVO"/>
	<typeAlias  alias="jeonjuBusNosunDrawingVO" type = "egovframework.rfc3.openapijeonjubus.vo.JeonjuBusNosunDrawingVO"/>
	<typeAlias  alias="jeonjuBusStopApproachVO" type = "egovframework.rfc3.openapijeonjubus.vo.JeonjuBusStopApproachVO"/>
	<typeAlias  alias="jeonjuBusTransferStopInfoVO" type = "egovframework.rfc3.openapijeonjubus.vo.JeonjuBusTransferStopInfoVO"/>
	
	
	<typeAlias  alias="jeonjuBaseInfoBusStopVO" type = "egovframework.rfc3.openapijeonjubus.vo.base.JeonjuBaseInfoBusStopVO"/>
	<typeAlias  alias="jeonjuBaseInfoNosunBusStopVO" type = "egovframework.rfc3.openapijeonjubus.vo.base.JeonjuBaseInfoNosunBusStopVO"/>
	<typeAlias  alias="jeonjuBaseInfoBusNodeVO" type = "egovframework.rfc3.openapijeonjubus.vo.base.JeonjuBaseInfoBusNodeVO"/>
	<typeAlias  alias="jeonjuBaseInfoBusRouteVO" type = "egovframework.rfc3.openapijeonjubus.vo.base.JeonjuBaseInfoBusRouteVO"/>
	<typeAlias  alias="jeonjuBaseInfoBusOperationVO" type = "egovframework.rfc3.openapijeonjubus.vo.base.JeonjuBaseInfoBusOperationVO"/>
	
	
    
    <select id="JeonjuBusDAO.selectBusNosunSearchAll"  parameterClass="jeonjuBusNosunSearchVO" resultClass="jeonjuBusNosunSearchVO" >
    	SELECT BRT_ID brtId, BRT_CLASS brtClass 
			FROM   BIS.BUSROUTE 
		WHERE  STATUSCODE = '2'  
			AND  USE_YN = 'Y'  
		GROUP BY BRT_ID, BRT_CLASS 
			ORDER BY TO_NUMBER(BRT_ID), TO_NUMBER(BRT_CLASS) 
    </select>
    
    <select id="JeonjuBusDAO.selectBusNosunSearch"  parameterClass="jeonjuBusNosunSearchVO" resultClass="jeonjuBusNosunSearchVO" >
    	SELECT BRT_ID brtId, BRT_CLASS brtClass, BRT_DIRECTION brtDirection, BRT_SUBID brtSubid, BRT_STDID brtStdid, BRT_SNAME brtSname, 		 
			BRT_ENAME brtEname, BRT_BUSNUM brtBusnum, BRT_FIRSTTIME brtFirsttime, BRT_LASTTIME brtLasttime, BRT_NEEDTIME brtNeedtime, BRT_MININTERVAL brtMininterval, 
		BRT_MAXINTERVAL brtMaxinterval, NVL(BRT_ILREGINTERVAL_YN,'N') brtIlreginterval, BRT_LENGTH brtLength 
			FROM BIS.BUSROUTE 
		WHERE USE_YN = 'Y' 
			AND STATUSCODE = '2' 
		AND BRT_ID = #brtId#
		<isNotEmpty prepend="AND" property="brtClass" >
				BRT_CLASS = #brtClass#
		 </isNotEmpty>  
		ORDER BY  BRT_SUBID, BRT_DIRECTION
    </select>
    
    <select id="JeonjuBusDAO.selectBusNosunRoute"  parameterClass="jeonjuBusNosunRouteVO" resultClass="jeonjuBusNosunRouteVO" >		
    
    <isNotEmpty property="bNo">
		SELECT C.BRT_STDID brtStdid, A.BRS_SEQNO brsSeqno, A.BNODE_ID bnodeId, B.STOP_KNAME stopKname, B.STOP_ID stopId, D.BUS_NO busNo, 
		B.STOP_STANDARDID stopStandardid, B.REMARK reMark, A.BRN_SEQNO brnSeqno, C.BRT_SUBID brtSubid, D.BUS_LOW busLow 
		FROM BIS.BUSROUTESTOP A, BIS.BUSSTOP B, BIS.BUSROUTE C, 
		( 
		SELECT B.BUS_NO, TRIM(A.BNODE_DEPARTURESTOPID) BNODE_DEPARTURESTOPID, A.BRT_STDID, 
		A.BOP_DEPARTURESEQNO, A.BOP_DEPARTURESTOPSEQNO, C.BUS_LOW 
		FROM BIS.BUSOPERATION A, BIS.BUSINFODEVICE B, BIS.BUS C 
		WHERE A.BID_NO = B.BID_NO AND B.BID_NO = C.BUS_NO 
		<![CDATA[
		AND C.BUS_NO < 9000 
		]]>
		AND A.BOP_FLAG = '1' AND TRIM(BRT_STDID) = #brtStdid# 
		
			<isNotEmpty prepend="AND" property="lKey" >
					AND C.BUS_LOW = '1' 
			</isNotEmpty>
		
		) D 
		WHERE A.BRT_STDID = C.BRT_STDID AND  TRIM(A.BNODE_ID) = TRIM(B.STOP_STANDARDID) 
		AND TRIM(A.BRN_SEQNO) = D.BOP_DEPARTURESTOPSEQNO(+) AND TRIM(C.BRT_STDID) = #brtStdid# 
		ORDER BY A.BRS_SEQNO 
		
		</isNotEmpty>
			
			
			
			
			<isEmpty property="bNo">
				SELECT aa.BRT_STDID brtStdid, aa.BRS_SEQNO brsSeqno, aa.BNODE_ID bnodeId, aa.STOP_KNAME stopKname, aa.STOP_ID stopId, 
					DECODE(aa.BRT_direction, bb.brt_direction, bb.bus_no,'') busNo, 
				aa.STOP_STANDARDID stopStandardid, aa.REMARK reMark, aa.BRN_SEQNO brnSeqno, aa.BRT_SUBID brtSubid, bb.bus_low busLow 
					FROM 
				( 
					SELECT C.BRT_STDID, A.BRS_SEQNO, A.BNODE_ID, B.STOP_KNAME, B.STOP_ID, 
				B.STOP_STANDARDID, B.REMARK, A.BRN_SEQNO, C.BRT_SUBID, C.brt_direction 
					FROM BIS.BUSROUTESTOP A, BIS.BUSSTOP B, BIS.BUSROUTE C 
				WHERE A.BRT_STDID = C.BRT_STDID AND  TRIM(A.BNODE_ID) = TRIM(B.STOP_STANDARDID) 
					AND TRIM(C.BRT_STDID) = #brtStdid# 
				ORDER BY A.BRS_SEQNO 
					) aa, 
				( 
					SELECT b.bus_no, a.bnode_departurestopid, a.brt_stdid, b.bus_low 
				,(SELECT brt_direction FROM BIS.BUSROUTE WHERE brt_stdid = a.brt_stdid) brt_direction 
					FROM bis.busoperation a, bis.bus b 
				WHERE A.BID_NO = B.bus_NO AND a.bop_flag = '1' AND a.brt_stdid in 
					(SELECT brt_stdid FROM bis.BUSROUTE WHERE brt_id = #brtId# AND brt_class= #brtClass#) 
					
					<isNotEmpty prepend="AND" property="lKey" >
							B.BUS_LOW = '1' 
					</isNotEmpty>
		
			<![CDATA[
				AND B.BUS_NO < 9000 
			]]>
					) bb 
				WHERE aa.STOP_STANDARDID = bb.bnode_departurestopid(+)
			</isEmpty>
			
    </select>
    
    <select id="JeonjuBusDAO.selectBusStopInfo"  parameterClass="jeonjuBusStopInfoVO" resultClass="jeonjuBusStopInfoVO" >
    
    	<isNotEmpty property="lKey" >
				SELECT * FROM ( 
		</isNotEmpty>
		 
    	SELECT A.BRT_STDID brtStdid, A.BID_NO bidNo, (A.BRS_SEQNO - A.CUR_BRS_SEQNO) rStop, A.RTIME rTime, A.VIA_STOPNAME viaStopname, 
			B.BRT_ID brtId, B.BRT_CLASS brtClass, B.BRT_VIANAME brtVianame, B.BRT_DIRECTION brtDirection, 
		(SELECT BUS_LOW FROM BIS.BUS WHERE BUS_NO = A.BID_NO) busLow 
			FROM 
		( 
			SELECT BRT_STDID, BID_NO, CUR_BRS_SEQNO, BRS_SEQNO, VIA_STOPNAME, SUM(TTIME) RTIME 
		FROM 
			( 
		SELECT BRNA.BRN_SEQNO, BRNA.BRT_STDID, BRNA.BNODE_ID, BRNA.BNODE_FROMID, 
			BRSB.CUR_BRS_SEQNO, BRSB.BRN_SEQNO_MAX, BRSB.BRS_SEQNO, BRSB.BID_NO, BRSB.VIA_STOPNAME, 
		(SELECT (SERVICETIME + TRAVELTIME) TTIME FROM BIS.REALTRAFFIC WHERE 
			BNODE_FROMID = BRNA.BNODE_FROMID AND BNODE_TOID = BRNA.BNODE_ID) TTIME 
		FROM BIS.BUSROUTENODE BRNA, 
			( 
		SELECT * FROM 
			( 
		SELECT A.BRT_STDID, BID_NO, A.BRS_SEQNO, A.BRN_SEQNO BRN_SEQNO_MAX, 
			(SELECT BRS_SEQNO FROM BIS.BUSROUTESTOP WHERE BRT_STDID = A.BRT_STDID AND BRN_SEQNO=B.BOP_DEPARTURESTOPSEQNO 
		) CUR_BRS_SEQNO, 
			(SELECT BRN_SEQNO FROM BIS.BUSROUTESTOP WHERE BRT_STDID = A.BRT_STDID AND BRN_SEQNO=B.BOP_DEPARTURESTOPSEQNO 
		) CUR_BRN_SEQNO, 
			(SELECT STOP_KNAME FROM BIS.BUSSTOP WHERE STOP_STANDARDID = B.BNODE_DEPARTURESTOPID) VIA_STOPNAME 
		FROM BIS.BUSROUTESTOP A, BIS.BUSOPERATION B 
			WHERE  A.BRT_STDID = B.BRT_STDID 
		AND A.BNODE_ID=#stopStdid# AND B.BOP_FLAG='1' 
			) BR 
		WHERE (BR.BRS_SEQNO-BR.CUR_BRS_SEQNO) BETWEEN 1 AND 9 
			)BRSB 
		WHERE BRNA.BRT_STDID = BRSB.BRT_STDID 
			AND BRNA.BRN_SEQNO BETWEEN BRSB.CUR_BRN_SEQNO AND BRSB.BRN_SEQNO_MAX 
		ORDER BY BRNA.BRT_STDID, BRNA.BRN_SEQNO ASC 
			) GROUP BY BRT_STDID, BID_NO, CUR_BRS_SEQNO, BRS_SEQNO, VIA_STOPNAME 
		) A, BIS.BUSROUTE B 
			WHERE A.BRT_STDID = B.BRT_STDID 

			<isEqual property="orderBy" compareValue="brtId">
				ORDER BY TO_NUMBER(BRT_ID) $range$ 
			</isEqual>

			<isEqual property="orderBy" compareValue="rTime">
				ORDER BY RTIME $range$ 
			</isEqual>
			
			<isEqual property="orderBy" compareValue="rStop">
				ORDER BY RSTOP $range$ 
			</isEqual>
		
		<isNotEmpty property="lKey" >
				) WHERE busLow = '1' 
		</isNotEmpty>
		
    </select>
    
    
    <select id="JeonjuBusDAO.selectBusStopSearch"  parameterClass="jeonjuBusStopSearchVO" resultClass="jeonjuBusStopSearchVO" >
    	SELECT STOP_KNAME stopKname, STOP_STANDARDID stopStandardid, STOP_ID stopId, STOP_X stopX, STOP_Y stopY, REMARK reMark  
			FROM BIS.BUSSTOP WHERE USE_YN = 'Y'  
			<isEqual property="searchFld" compareValue="stopnm">
				AND STOP_KNAME LIKE '%$searchNm$%'  
			</isEqual>
			<isEqual property="searchFld" compareValue="stopno">
				AND STOP_ID LIKE '%$searchNm$%'  
			</isEqual>
			ORDER BY STOP_KNAME  
    </select>
    
     <select id="JeonjuBusDAO.selectBusLowList"  parameterClass="jeonjuBusLowListVO" resultClass="jeonjuBusLowListVO" >
    	SELECT BRT_STDID brtStdid, BRT_ID brtId, BRT_CLASS brtClass, BRT_SUBID brtSubid, BRT_DIRECTION brtDirection, BRT_SNAME brtSname, BRT_ENAME brtEname 
			FROM BIS.BUSROUTE WHERE BRT_STDID IN ( 
		SELECT BRT_STDID FROM BIS.BTTTIMETABLE WHERE COURSE_ID IN 
			( SELECT COURSE_ID FROM BIS.COURSE 
		WHERE COURSE_NAME LIKE '%???' AND USEFLAG = 'Y') 
			GROUP BY BRT_STDID ) 
		AND BRT_DIRECTION = '1' 
		 	ORDER BY TO_NUMBER(BRT_ID), BRT_CLASS 
    </select>
    
    <select id="JeonjuBusDAO.selectRoadStatus"  parameterClass="jeonjuRoadStatusVO" resultClass="jeonjuRoadStatusVO" >
    	SELECT IFSC_NM ifscNm FROM ATMS.TB_IFSC_MST 
    		WHERE VIEW_YN = '1' 
    	<isNotEmpty property="totalSearch" >
				AND IFSC_NM LIKE '%$totalSearch$%' 
		</isNotEmpty>
			GROUP BY IFSC_NM 
		ORDER BY IFSC_NM 
    </select>
    
<!-- 
    <select id="JeonjuBusDAO.selectBusRoute"  parameterClass="jeonjuBusRouteVO" resultClass="jeonjuBusRouteVO" >
    	SELECT BRT_ID brtId, 
		       BRT_CLASS brtClass
		  FROM BIS.BUSROUTE 
		 WHERE STATUSCODE = '2' 
		       AND USE_YN = 'Y' 
		 GROUP BY BRT_ID, 
		       BRT_CLASS 
		ORDER BY TO_NUMBER(BRT_ID), 
		       TO_NUMBER(BRT_CLASS) 
		    </select>
 -->
     <select id="JeonjuBusDAO.selectRoadStatusDetail1"  parameterClass="jeonjuRoadStatusDetailVO" resultClass="jeonjuRoadStatusDetailVO" >
    	SELECT C.IFSC_NM ifscNm, A.IFSC_MST_ID mstId1, B.IFSC_MST_ID mstId2, B.DRCT_NM fromNm, A.DRCT_NM toNm 
    		FROM ATMS.TB_IFSC_MST A, ATMS.TB_IFSC_MST B, 
    	(SELECT IFSC_NM FROM  ATMS.TB_IFSC_MST WHERE  IFSC_NM = #loadResult# GROUP BY IFSC_NM ORDER BY IFSC_NM) C 
    		WHERE  C.IFSC_NM = A.IFSC_NM AND  C.IFSC_NM = B.IFSC_NM AND  A.DRCT_CD = '1' AND  B.DRCT_CD = '2' 
    	ORDER BY ifscNm 
    </select>
    
    <select id="JeonjuBusDAO.selectRoadStatusDetail2"  parameterClass="jeonjuRoadStatusDetailVO" resultClass="jeonjuRoadStatusDetailVO" >
    	SELECT * FROM (  
    	SELECT '1' baNg, A.IFSC_ID ifscId, A.IFSC_ID_SEQ ifscIdSeq, A.SRT_NODE_NM srtNodeNm,  A.END_NODE_NM endNodeNm, 
    	B.CMTR_GRAD_CD cmtrGradCd, B.SPED sPed,  B.TRVL_HH trvlHh, ROW_NUMBER() OVER ( ORDER BY A.IFSC_ID_SEQ )  lraNk 
    	FROM ATMS.TB_IFSC A, ATMS.TB_IFSC_TRAF B 
    	WHERE  A.IFSC_MST_ID = #ifscMstId1# 
    	AND  A.IFSC_ID = B.IFSC_ID(+) 
    	UNION ALL 
    	SELECT '2' baNg, A.IFSC_ID ifscId, A.IFSC_ID_SEQ ifscIdSeq, A.SRT_NODE_NM srtNodeNm,  A.END_NODE_NM endNodeNm, 
    	B.CMTR_GRAD_CD cmtrGradCd, B.SPED sPed,  B.TRVL_HH trvlHh, ROW_NUMBER() OVER ( ORDER BY A.IFSC_ID_SEQ DESC)  lraNk 
    	FROM ATMS.TB_IFSC A, ATMS.TB_IFSC_TRAF B 
    	WHERE  A.IFSC_MST_ID = #ifscMstId2# 
    	AND  A.IFSC_ID = B.IFSC_ID(+) 
    	) TB 
    	ORDER BY BANG, lraNk 
    </select>
    
    <select id="JeonjuBusDAO.selectCctvList"  parameterClass="jeonjuCctvListVO" resultClass="jeonjuCctvListVO" >
    	SELECT ISTL_LCTN_NM istlLctnNm, IP iP, LCTN_X lctnX, LCTN_Y lctnY, CCTV_MNGM_NMBR cctvMngmNmbr, CHNL_NMBR chnlNmbr, CCTV_TYPE cctvType, VIEW_CD viewCd 
    	FROM ATMS.TB_CCTV_CTLR 
    	WHERE ISTL_LCTN_NM LIKE '%$searchNm$%' 
    	ORDER BY CCTV_MNGM_NMBR 
    </select>
    
    <select id="JeonjuBusDAO.selectRouteSearch"  parameterClass="jeonjuRouteSearchVO" resultClass="jeonjuRouteSearchVO" >
    	SELECT A.BNODE_KNAME bnodeKname, A.BNODE_ID bnodeId, B.REMARK reMark, A.BNODE_X bNodex, A.BNODE_Y bNodey, B.STOP_ID stopId  
    	FROM BIS.BISNODE A, BIS.BUSSTOP B  
    	WHERE TRIM(A.BNODE_ID) = TRIM(B.STOP_STANDARDID) AND A.BNODE_TYPE = '1'  
    	AND A.USE_YN = 'Y' AND A.BNODE_KNAME LIKE '%$sSearchNm$%'  
    	ORDER BY A.BNODE_KNAME  
    </select>
    
    <select id="JeonjuBusDAO.selectRouteNonstopDetailSearch"  parameterClass="jeonjuRouteNonstopDetailSearchVO" resultClass="jeonjuRouteNonstopDetailSearchVO" >
    	SELECT BR.BRT_STDID brtStdid, DECODE(BR.BRT_CLASS,'0',BR.BRT_ID,BR.BRT_ID || '-' || BR.BRT_CLASS) AS brtNo, 
			BR.BRT_ID brtId, BR.BRT_CLASS brtClass, BR.BRT_SUBID brtSubId, BH.FROM_SEQNO fromSeqNo, BH.TO_SEQNO toSeqNo, BH.STOP_CNT stopCnt, 
		(SELECT ROUND(SUM(BRS_NEEDTIME) / 60) FROM BIS.BUSROUTESTOP	WHERE BRT_STDID = BR.BRT_STDID 
		<![CDATA[
			AND BRS_SEQNO > BH.FROM_SEQNO AND BRS_SEQNO <= BH.TO_SEQNO) tripTime,  
			]]>
		(SELECT ROUND(SUM(BRS_LENGTH) / 1000, 1) FROM BIS.BUSROUTESTOP WHERE BRT_STDID = BR.BRT_STDID 
		<![CDATA[
			AND BRS_SEQNO > BH.FROM_SEQNO AND BRS_SEQNO <= BH.TO_SEQNO) tripDisTance 
			]]>
		FROM BIS.BUSROUTE BR, 
			(SELECT A.BRT_STDID, B.BRS_SEQNO FROM_SEQNO, A.BRS_SEQNO TO_SEQNO,B.NSUN , (A.BRS_SEQNO - B.BRS_SEQNO) STOP_CNT 
		FROM BIS.BUSROUTESTOP A, 
			(SELECT B1.BRT_STDID, B1.BRS_SEQNO, B2.BRT_ID, B2.BRT_CLASS, 
		ROW_NUMBER() OVER (PARTITION BY DECODE(B2.BRT_CLASS,'0',B2.BRT_ID,B2.BRT_ID || '-' || B2.BRT_CLASS) 
			ORDER BY B2.BRT_SUBID) NSUN 
		FROM BIS.BUSROUTESTOP B1, BIS.BUSROUTE B2 
			WHERE B1.BRT_STDID = B2.BRT_STDID AND BNODE_ID = #sStandardId# AND B2.STATUSCODE = '2') B 
		WHERE A.BRT_STDID = B.BRT_STDID AND  A.BNODE_ID= #eStandardId# 
			AND A.BRS_SEQNO > B.BRS_SEQNO) BH 
		WHERE BR.BRT_STDID = BH.BRT_STDID AND BH.NSUN ='1' 
			AND BR.STATUSCODE = '2' 
		ORDER BY BH.STOP_CNT, TO_NUMBER(BR.BRT_ID), BR.BRT_CLASS 
    </select>
    
    
    <select id="JeonjuBusDAO.selectRouteTransferDetailSearch"  parameterClass="jeonjuRouteTransferDetailSearchVO" resultClass="jeonjuRouteTransferDetailSearchVO" >
    	SELECT TB.START_ID startId,TB.START_NO startNo,TB.FIN_ID finId,TB.FIN_NO finNo,TB.CHG_BNODEID chgBnodeId,TB.RSTOP1 rStop1,TB.RSTOP2 rStop2,TB.START_FROMSEQNO startFromSeqNo,
    	TB.START_TOSEQNO startToseqNo,TB.FIN_TOSEQNO finToseqNo,FIN_FROMSEQNO finFromseqNo,RR rr,STOP_CNT stopCnt,CHG_NAME chgName,REMARK reMark,TRIP_TIME1 tripTime1,
    	TRIP_TIME2 tripTime2,TRIP_DISTANCE1 tripDistance1,TRIP_DISTANCE2 tripDistance2,RNUM rNum, 
			(TB.TRIP_TIME1 + TB.TRIP_TIME2) tripTime, (TB.TRIP_DISTANCE1 + TB.TRIP_DISTANCE2) tripDistance 
		FROM ( 
			SELECT HH.*,BS.STOP_KNAME CHG_NAME, BS.REMARK, 
		(SELECT ROUND(SUM(BRS_NEEDTIME) / 60) FROM BIS.BUSROUTESTOP	WHERE BRT_STDID = HH.START_ID 
		<![CDATA[
			AND BRS_SEQNO > HH.START_FROMSEQNO AND BRS_SEQNO <= HH.START_TOSEQNO) TRIP_TIME1, 
			]]>
		(SELECT ROUND(SUM(BRS_NEEDTIME) / 60) FROM BIS.BUSROUTESTOP	WHERE BRT_STDID = HH.FIN_ID 
		<![CDATA[
			AND BRS_SEQNO > HH.FIN_FROMSEQNO AND BRS_SEQNO <= HH.FIN_TOSEQNO) TRIP_TIME2, 
			]]>
		(SELECT ROUND(SUM(BRS_LENGTH) / 1000, 1) FROM BIS.BUSROUTESTOP WHERE BRT_STDID = HH.START_ID 
		<![CDATA[
			AND BRS_SEQNO > HH.START_FROMSEQNO AND BRS_SEQNO <= HH.START_TOSEQNO) TRIP_DISTANCE1, 
			]]>
		(SELECT ROUND(SUM(BRS_LENGTH) / 1000, 1) FROM BIS.BUSROUTESTOP WHERE BRT_STDID = HH.FIN_ID 
		<![CDATA[
			AND BRS_SEQNO > HH.FIN_FROMSEQNO AND BRS_SEQNO <= HH.FIN_TOSEQNO) TRIP_DISTANCE2, 
			]]>
		ROW_NUMBER() OVER ( ORDER BY STOP_CNT, START_NO )  RNUM 
			FROM BIS.BUSSTOP BS, 
		( 
			SELECT SRT.BRT_STDID START_ID, SRT.START_NO, FIN.BRT_STDID  FIN_ID, FIN.FIN_NO,SRT.BNODE_ID CHG_BNODEID, 
		SRT.RSTOP1, FIN.RSTOP2, START_FROMSEQNO, START_TOSEQNO, FIN_TOSEQNO, FIN_FROMSEQNO, 
			RANK() OVER (PARTITION BY SRT.START_NO || FIN.FIN_NO ORDER BY (SRT.RSTOP1+FIN.RSTOP2), SRT.BRT_SUBID, FIN.BRT_SUBID, SRT.RSTOP1) AS RR 
		,(SRT.RSTOP1+FIN.RSTOP2) STOP_CNT 
			FROM 
		(SELECT A.BRT_STDID, B.BRS_SEQNO START_FROMSEQNO, A.BRS_SEQNO START_TOSEQNO, (A.BRS_SEQNO - B.BRS_SEQNO) RSTOP1 
			,A.BNODE_ID, B.BRT_SUBID, B.BRT_ID, B.BRT_CLASS, 
		DECODE(B.BRT_CLASS,'0',B.BRT_ID,B.BRT_ID || '-' || B.BRT_CLASS) AS START_NO 
			FROM BIS.BUSROUTESTOP A, 
		(SELECT B1.BRT_STDID, B1.BRS_SEQNO,  B2.BRT_SUBID, B2.BRT_ID, B2.BRT_CLASS, B1.BNODE_ID START_BNODEID 
			FROM BIS.BUSROUTESTOP B1, BIS.BUSROUTE B2 
		WHERE B1.BNODE_ID = #sStandardId# AND B1.BRT_STDID = B2.BRT_STDID AND B2.STATUSCODE = '2') B 
			WHERE A.BRT_STDID = B.BRT_STDID AND A.BRS_SEQNO > B.BRS_SEQNO) SRT, 
		(SELECT A.BRT_STDID, B.BRS_SEQNO FIN_TOSEQNO, A.BRS_SEQNO FIN_FROMSEQNO,(B.BRS_SEQNO - A.BRS_SEQNO) RSTOP2 
			,A.BNODE_ID, B.BRT_SUBID, B.BRT_ID, B.BRT_CLASS, 
		DECODE(B.BRT_CLASS,'0',B.BRT_ID,B.BRT_ID || '-' || B.BRT_CLASS) AS FIN_NO 
			FROM BIS.BUSROUTESTOP A, 
		(SELECT B1.BRT_STDID, B1.BRS_SEQNO, B2.BRT_SUBID, B2.BRT_ID, B2.BRT_CLASS, B1.BNODE_ID FIN_BNODEID 
			FROM BIS.BUSROUTESTOP B1, BIS.BUSROUTE B2 
		WHERE B1.BNODE_ID = #eStandardId# AND B1.BRT_STDID = B2.BRT_STDID AND B2.STATUSCODE = '2') B 
			WHERE A.BRT_STDID = B.BRT_STDID AND B.BRS_SEQNO > A.BRS_SEQNO) FIN 
		WHERE SRT.BNODE_ID = FIN.BNODE_ID 
			ORDER BY SRT.BRT_STDID 
		) HH 
			WHERE RR = '1' AND HH.CHG_BNODEID = BS.STOP_STANDARDID 
			<![CDATA[
		AND HH.START_NO <> HH.FIN_NO 
		]]>
			) TB 
			<![CDATA[
		WHERE TB.RNUM < $maxCnt$ 
		]]>
			ORDER BY TB.RNUM 
    </select>
    
    
    <select id="JeonjuBusDAO.selectNosunInfo"  parameterClass="jeonjuNosunInfoVO" resultClass="jeonjuNosunInfoVO" >
    	SELECT A.*, 
			(SELECT COUNT(BTT_SEQ) FROM BIS.BTTTIMETABLE WHERE BRT_STDID = A.brtStdid) brtDnum, 
		(SELECT COUNT(DISTINCT COURSE_ID) FROM BIS.BTTTIMETABLE WHERE BRT_STDID = A.brtStdid) brtNum, 
			(SELECT BRT_TEXT FROM BIS.BUSTIMEINFO WHERE BRT_STDID = A.brtStdid) brtText, 
		(SELECT WMSYS.WM_CONCAT(REPLACE(TO_CHAR(BTT_STTIME,'00,00'),',',':')) FROM BIS.BTTTIMETABLE 
			WHERE BRT_STDID = A.brtStdid AND BTT_SAT = '0') satNlist, 
		(SELECT WMSYS.WM_CONCAT(REPLACE(TO_CHAR(BTT_STTIME,'00,00'),',',':')) FROM BIS.BTTTIMETABLE 
			WHERE BRT_STDID = A.brtStdid AND BTT_HOLI = '0') holiNlist, 
		(SELECT COUNT(*) TCOUNT FROM BIS.BTTTIMETABLE A, BIS.COURSE B 
			WHERE A.COURSE_ID = B.COURSE_ID AND B.USEFLAG = 'Y' AND A.BRT_STDID = #stdId# 
		
		<isNotEmpty property="lKey" >
				AND B.COURSE_NAME LIKE '???' 
		</isNotEmpty>
		
		  ) tCount, 
		 (SELECT COUNT(*) BCOUNT FROM 
		 (SELECT B.COURSE_ID FROM BIS.BTTTIMETABLE A, BIS.COURSE B 
		 WHERE A.COURSE_ID = B.COURSE_ID AND B.USEFLAG = 'Y' AND A.BRT_STDID = #stdId# 
		 
		 	<isNotEmpty property="lKey" >
				AND B.COURSE_NAME LIKE '???'  
			</isNotEmpty>
			
		  GROUP BY B.COURSE_ID 
		 	)) bCount 
		 FROM ( 
		 	SELECT BRT_ID brtId, BRT_CLASS brtClass, BRT_DIRECTION brtDirection, BRT_SUBID brtSubid, BRT_STDID brtStdid, BRT_SNAME brtSname,  
		 BRT_ENAME brtEname, BRT_BUSNUM brtBusNum, BRT_FIRSTTIME brtFirstTime, BRT_LASTTIME brtLastTime, BRT_NEEDTIME brtNeedTime, BRT_MININTERVAL brtMininTerval,  
		 	BRT_MAXINTERVAL brtMaxinTerval, NVL(BRT_ILREGINTERVAL_YN,'N') brtIlregintervalYn, BRT_LENGTH brtLength   
		 FROM BIS.BUSROUTE WHERE USE_YN = 'Y' AND STATUSCODE = '2' AND BRT_STDID = #stdId#  
		 	) A 
    </select>
    
    <select id="JeonjuBusDAO.selectNosunTime"  parameterClass="jeonjuNosunTimeVO" resultClass="jeonjuNosunTimeVO" >
      	
    	<isNotEmpty property="lKey" >
				SELECT A.BRT_STDID brtStdId, A.BTT_SEQ startSeq,	A.COURSE_ID CourseId, A.BTT_STTIME courseStime FROM BIS.BTTTIMETABLE A,  
				(SELECT T.COURSE_ID FROM BIS.BTTTIMETABLE T, BIS.COURSE C   
				WHERE C.COURSE_ID = T.COURSE_ID  AND C.USEFLAG ='Y' AND C.COURSE_NAME LIKE '???'  
				GROUP BY T.COURSE_ID) B  
				WHERE A.COURSE_ID = B.COURSE_ID AND A.BRT_STDID = #stdId#   
				ORDER BY A.BTT_SEQ  
		</isNotEmpty>
		
		<isEmpty property="lKey">
			SELECT BRT_STDID brtStdId, BTT_SEQ startSeq, COURSE_ID CourseId, BTT_STTIME courseStime FROM BIS.BTTTIMETABLE  
			WHERE BRT_STDID = #stdId# ORDER BY BTT_SEQ  
		</isEmpty>
			
    </select>
    
    <select id="JeonjuBusDAO.selectNosunByWayStop"  parameterClass="jeonjuNosunByWayStopVO" resultClass="jeonjuNosunByWayStopVO" >
      	
    	<isNotEmpty property="lKey" >
			SELECT BRT_ID brtId, BRT_STDID brtStdId, BRT_CLASS brtClass, BRT_DIRECTION brtDirection, BRT_SUBID brtSubId, BRT_SNAME brtSname, BRT_ENAME brtEname, 
				BRT_BUSNUM brtBusNum, BRT_FIRSTTIME brtFirstTime, BRT_LASTTIME brtLastTime, BRT_NEEDTIME brtNeedTime, BRT_MININTERVAL brtMininTerVal, 
			BRT_MAXINTERVAL brtMaxinTerVal, BRT_ILREGINTERVAL_YN brtIlreginTerValYn 
				FROM BIS.BUSROUTE WHERE STATUSCODE = '2' AND BRT_STDID IN 
			( SELECT A.BRT_STDID FROM BIS.BUSROUTESTOP A, 
				(SELECT T.BRT_STDID FROM BIS.BTTTIMETABLE T, BIS.COURSE C 
			WHERE C.COURSE_ID = T.COURSE_ID AND C.COURSE_NAME LIKE '???' 
				GROUP BY T.BRT_STDID) B 
			WHERE A.BRT_STDID = B.BRT_STDID AND TRIM(A.BNODE_ID) = #stopStandardid# ) 
		</isNotEmpty>
		
		<isEmpty property="lKey">
			SELECT BRT_ID brtId, BRT_STDID brtStdId, BRT_CLASS brtClass, BRT_DIRECTION brtDirection, BRT_SUBID brtSubId, BRT_SNAME brtSname, BRT_ENAME brtEname, 
				BRT_BUSNUM brtBusNum, BRT_FIRSTTIME brtFirstTime, BRT_LASTTIME brtLastTime, BRT_NEEDTIME brtNeedTime, BRT_MININTERVAL brtMininTerVal, 
			BRT_MAXINTERVAL brtMaxinTerVal, BRT_ILREGINTERVAL_YN brtIlreginTerValYn 
				FROM BIS.BUSROUTE WHERE STATUSCODE = '2' AND BRT_STDID IN 
			( SELECT BRT_STDID FROM BIS.BUSROUTESTOP WHERE TRIM(BNODE_ID) = #stopStandardid# GROUP BY BRT_STDID ) 
		</isEmpty>
			
    </select>
    
    
    <select id="JeonjuBusDAO.selectBusStopNosunInfo"  parameterClass="jeonjuBusStopNosunInfoVO" resultClass="jeonjuBusStopNosunInfoVO" >
    <!-- junban node -->
    	<isEqual property="sStdId4" compareValue="2">
	    	SELECT A.LINK_ID sLinkId, A.VTX_SEQ sVtxSeq, A.STOP_XINLINK sStopXinLink, A.STOP_YINLINK sStopYinLink, 
	    		C.LINK_ID cLinkId, C.VTX_SEQ cVtxSeq, C.STOP_XINLINK cStopXinLink, C.STOP_YINLINK cStopYinLInk 
	    	FROM 
	    		(SELECT LINK_ID, VTX_SEQ, STOP_XINLINK, STOP_YINLINK 
	    	FROM BIS.BUSSTOP WHERE  STOP_STANDARDID = #sStdId2#) A, 
	    		(SELECT LINK_ID, VTX_SEQ, STOP_XINLINK, STOP_YINLINK 
	    	FROM BIS.BUSSTOP WHERE  STOP_STANDARDID = #sStdId3#) C
    	</isEqual>
   	<!-- hooban node --> 
    	<isEqual property="sStdId4" compareValue="3">
	    	SELECT B.LINK_ID fLinkId, B.VTX_SEQ fVtxSeq, B.STOP_XINLINK fStopXinLink, B.STOP_YINLINK fStopYinLink, 
	    	C.LINK_ID cLinkId, C.VTX_SEQ cVtxSeq, C.STOP_XINLINK cStopXinLink, C.STOP_YINLINK cStopYinLInk 
	    	FROM 
	    	(SELECT LINK_ID, VTX_SEQ, STOP_XINLINK, STOP_YINLINK 
	    	FROM BIS.BUSSTOP WHERE  STOP_STANDARDID = #sStdId2#) C,
	    	(SELECT LINK_ID, VTX_SEQ, STOP_XINLINK, STOP_YINLINK 
	    	FROM BIS.BUSSTOP WHERE  STOP_STANDARDID = #sStdId3#) B 
    	</isEqual>
    <!-- jikhaeng node --> 
    	<isEqual property="sStdId4" compareValue="1">
	    	SELECT A.LINK_ID sLinkId, A.VTX_SEQ sVtxSeq, A.STOP_XINLINK sStopXinLink, A.STOP_YINLINK sStopYinLink, 
	    	B.LINK_ID fLinkId, B.VTX_SEQ fVtxSeq, B.STOP_XINLINK fStopXinLink, B.STOP_YINLINK fStopYinLink 
	    	FROM 
	    	(SELECT LINK_ID, VTX_SEQ, STOP_XINLINK, STOP_YINLINK 
	    	FROM BIS.BUSSTOP WHERE  STOP_STANDARDID = #sStdId2#) A, 
	    	(SELECT LINK_ID, VTX_SEQ, STOP_XINLINK, STOP_YINLINK 
	    	FROM BIS.BUSSTOP WHERE  STOP_STANDARDID = #sStdId3#) B 
    	</isEqual> 
    </select>
    
     <select id="JeonjuBusDAO.selectBusStopNosunDrawing"  parameterClass="jeonjuBusStopNosunDrawingVO" resultClass="jeonjuBusStopNosunDrawingVO" >
    	SELECT A.LINK_ID linkId, A.VTX_SEQ vtxSeq, A.VTX_X vtxx, A.VTX_Y vtxy 
			FROM BIS.LINKVTX A,               
		( SELECT IDX, LINK_ID  
			FROM ( SELECT ROW_NUMBER() OVER(ORDER BY MAX(BRE_SEQNO)) AS IDX, LINK_ID 
		FROM BIS.BUSROUTENODEEDIT WHERE  BRT_STDID = #sStdId1# GROUP BY LINK_ID )  
			WHERE  IDX BETWEEN ( SELECT IDX  
		FROM ( SELECT ROW_NUMBER() OVER(ORDER BY MAX(BRE_SEQNO)) AS IDX,LINK_ID  
			FROM   BIS.BUSROUTENODEEDIT WHERE  BRT_STDID = #sStdId1# GROUP BY LINK_ID )  
		WHERE  LINK_ID = #startLinkId# ) AND ( SELECT IDX FROM ( SELECT ROW_NUMBER() OVER(ORDER BY MAX(BRE_SEQNO)) AS IDX,  
			LINK_ID FROM   BIS.BUSROUTENODEEDIT WHERE  BRT_STDID = #sStdId1# GROUP BY LINK_ID )  
		WHERE  LINK_ID = #endLinkId# ) ORDER BY IDX ) B 
			WHERE A.LINK_ID = B.LINK_ID ORDER BY B.IDX, A.VTX_SEQ 
    </select>
    
    <select id="JeonjuBusDAO.selectBusNosunDrawing"  parameterClass="jeonjuBusNosunDrawingVO" resultClass="jeonjuBusNosunDrawingVO" >
    	SELECT A.LINK_ID linkId, A.VTX_SEQ vtxSeq, A.VTX_X vtxx, A.VTX_Y vtxy 
			FROM BIS.LINKVTX A, 
		( SELECT ROWNUM RN, LINK_ID FROM ( SELECT LINK_ID FROM BIS.BUSROUTENODEEDIT WHERE BRT_STDID = #brtStdid# 
			GROUP BY LINK_ID ORDER BY MAX(BRN_SEQNO) ) ) B 
		WHERE A.LINK_ID = B.LINK_ID ORDER BY B.RN, A.VTX_SEQ 
    </select>
    
    <select id="JeonjuBusDAO.selectBusStopApproach"  parameterClass="jeonjuBusStopApproachVO" resultClass="jeonjuBusStopApproachVO" >
    	 SELECT STOP_STANDARDID stopStandardid, STOP_X stopx, STOP_Y stopy, STOP_KNAME stopKname, REMARK reMark 
			FROM (  SELECT STOP_STANDARDID, STOP_KNAME, STOP_X, STOP_Y, REMARK, 
		( (STOP_X - $arg1$) * (STOP_X - $arg1$)  + (STOP_Y - $arg2$) * (STOP_Y - $arg2$)) AS LENGTH 
		<![CDATA[
			FROM   BIS.BUSSTOP ORDER BY   LENGTH) WHERE ROWNUM <= $arg3$ 
			]]>
    </select>
    
    <select id="JeonjuBusDAO.selectBusStopRealLocation"  parameterClass="jeonjuBusStopInfoVO" resultClass="jeonjuBusStopInfoVO" >
    SELECT * FROM (
		SELECT A.BRT_STDID brtStdid, A.BID_NO bidNo, (A.BRS_SEQNO - A.CUR_BRS_SEQNO) rStop, A.RTIME rTime, A.VIA_STOPNAME viaStopname, 
			B.BRT_ID brtId, B.BRT_CLASS brtClass, B.BRT_VIANAME brtVianame, B.BRT_DIRECTION brtDirection, 
		(SELECT BUS_LOW FROM BIS.BUS WHERE BUS_NO = A.BID_NO) busLow 
			FROM 
		( 
			SELECT BRT_STDID, BID_NO, CUR_BRS_SEQNO, BRS_SEQNO, VIA_STOPNAME, SUM(TTIME) RTIME 
		FROM 
			( 
		SELECT BRNA.BRN_SEQNO, BRNA.BRT_STDID, BRNA.BNODE_ID, BRNA.BNODE_FROMID, 
			BRSB.CUR_BRS_SEQNO, BRSB.BRN_SEQNO_MAX, BRSB.BRS_SEQNO, BRSB.BID_NO, BRSB.VIA_STOPNAME, 
		(SELECT (SERVICETIME + TRAVELTIME) TTIME FROM BIS.REALTRAFFIC WHERE 
			BNODE_FROMID = BRNA.BNODE_FROMID AND BNODE_TOID = BRNA.BNODE_ID) TTIME 
		FROM BIS.BUSROUTENODE BRNA, 
			( 
		SELECT * FROM 
			( 
		SELECT A.BRT_STDID, BID_NO, A.BRS_SEQNO, A.BRN_SEQNO BRN_SEQNO_MAX, 
			(SELECT BRS_SEQNO FROM BIS.BUSROUTESTOP WHERE BRT_STDID = A.BRT_STDID AND BRN_SEQNO=B.BOP_DEPARTURESTOPSEQNO 
		) CUR_BRS_SEQNO, 
			(SELECT BRN_SEQNO FROM BIS.BUSROUTESTOP WHERE BRT_STDID = A.BRT_STDID AND BRN_SEQNO=B.BOP_DEPARTURESTOPSEQNO 
		) CUR_BRN_SEQNO, 
			(SELECT STOP_KNAME FROM BIS.BUSSTOP WHERE STOP_STANDARDID = B.BNODE_DEPARTURESTOPID) VIA_STOPNAME 
		FROM BIS.BUSROUTESTOP A, BIS.BUSOPERATION B 
			WHERE  A.BRT_STDID = B.BRT_STDID 
		AND A.BNODE_ID=#stopStdid# AND B.BOP_FLAG='1'  
			) BR 
		WHERE (BR.BRS_SEQNO-BR.CUR_BRS_SEQNO) BETWEEN 1 AND 9 
			)BRSB 
		WHERE BRNA.BRT_STDID = BRSB.BRT_STDID 
			AND BRNA.BRN_SEQNO BETWEEN BRSB.CUR_BRN_SEQNO AND BRSB.BRN_SEQNO_MAX 
		ORDER BY BRNA.BRT_STDID, BRNA.BRN_SEQNO ASC 
			) GROUP BY BRT_STDID, BID_NO, CUR_BRS_SEQNO, BRS_SEQNO, VIA_STOPNAME 
		) A, BIS.BUSROUTE B 
			WHERE A.BRT_STDID = B.BRT_STDID 
		ORDER BY TO_NUMBER(B.BRT_ID), B.BRT_CLASS, A.RTIME
        ) WHERE brtId=#initBrtid# 
        
        <isNotEmpty property="initBrtClass" >
				AND brtClass = #initBrtClass#  
		</isNotEmpty>
		
		<isNotEmpty property="lKey" >
				AND busLow = '1' 
		</isNotEmpty>
    </select>
    
    <select id="JeonjuBusDAO.selectBusTransferStopInfo"  parameterClass="jeonjuBusTransferStopInfoVO" resultClass="jeonjuBusTransferStopInfoVO" >
    
    	SELECT A.BRN_SEQNO brsSeqNo,A.BNODE_ID bNodeId,A.BRS_LENGTH brsLength,A.BRS_NEEDTIME brsNeedTime,
		(SELECT STOP_KNAME FROM BIS.BUSSTOP B WHERE B.STOP_STANDARDID=A.BNODE_ID) stopKname,
		(SELECT STOP_X FROM BIS.BUSSTOP B WHERE B.STOP_STANDARDID=A.BNODE_ID) stopx,
		(SELECT STOP_Y FROM BIS.BUSSTOP B WHERE B.STOP_STANDARDID=A.BNODE_ID) stopy 
		FROM BIS.BUSROUTESTOP A 
		<![CDATA[
		WHERE A.BRT_STDID=#startId# AND A.BRS_SEQNO >= #startFromSeqNo# AND A.BRS_SEQNO <= #startToseqNo# 
		]]>
		
		UNION ALL 
		
			SELECT A.BRN_SEQNO brsSeqNo,A.BNODE_ID bNodeId,A.BRS_LENGTH brsLength,A.BRS_NEEDTIME brsNeedTime,
		(SELECT STOP_KNAME FROM BIS.BUSSTOP B WHERE B.STOP_STANDARDID=A.BNODE_ID) stopKname,
		(SELECT STOP_X FROM BIS.BUSSTOP B WHERE B.STOP_STANDARDID=A.BNODE_ID) stopx,
		(SELECT STOP_Y FROM BIS.BUSSTOP B WHERE B.STOP_STANDARDID=A.BNODE_ID) stopy 
		FROM BIS.BUSROUTESTOP A 
		<![CDATA[
		WHERE A.BRT_STDID=#finId# AND A.BRS_SEQNO > #finFromseqNo# AND A.BRS_SEQNO <= #finToseqNo#
		]]>
		
    </select>
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
     <select id="JeonjuBusDAO.selectBaseInfoBusStop"  parameterClass="jeonjuBaseInfoBusStopVO" resultClass="jeonjuBaseInfoBusStopVO" >
     <isNotEmpty property="min" >
    	SELECT * FROM (
	</isNotEmpty>		
	<isNotEmpty property="max" >
			SELECT ROWNUM AS RNUM, A.* FROM (
		</isNotEmpty>
	
				SELECT * FROM BIS.BUSSTOP ORDER BY STOP_STANDARDID ASC
				
		<isNotEmpty property="max" >		
		<![CDATA[
			) A WHERE ROWNUM <= $max$ 
			]]>
			</isNotEmpty>
			
		<isNotEmpty property="min" >
		<![CDATA[		
		) WHERE RNUM > $min$
		]]>
		</isNotEmpty>
    </select>
    
     <select id="JeonjuBusDAO.selectBaseInfoNosunBusStop"  parameterClass="jeonjuBaseInfoNosunBusStopVO" resultClass="jeonjuBaseInfoNosunBusStopVO" >
     <isNotEmpty property="min" >
    	SELECT * FROM (
	</isNotEmpty>		
	<isNotEmpty property="max" >
			SELECT ROWNUM AS RNUM, A.* FROM (
		</isNotEmpty>
	
				SELECT * FROM BIS.BUSROUTESTOP ORDER BY BRN_SEQNO ASC
				
		<isNotEmpty property="max" >		
		<![CDATA[
			) A WHERE ROWNUM <= $max$ 
			]]>
			</isNotEmpty>
			
		<isNotEmpty property="min" >
		<![CDATA[		
		) WHERE RNUM > $min$
		]]>
		</isNotEmpty>
    </select>
    
    
     <select id="JeonjuBusDAO.selectBaseInfoBusNode"  parameterClass="jeonjuBaseInfoBusNodeVO" resultClass="jeonjuBaseInfoBusNodeVO" >
     <isNotEmpty property="min" >
    	SELECT * FROM (
	</isNotEmpty>		
	<isNotEmpty property="max" >
			SELECT ROWNUM AS RNUM, A.* FROM (
		</isNotEmpty>
	
				SELECT * FROM BIS.BUSROUTENODE ORDER BY BRN_SEQNO ASC
				
		<isNotEmpty property="max" >		
		<![CDATA[
			) A WHERE ROWNUM <= $max$ 
			]]>
			</isNotEmpty>
			
		<isNotEmpty property="min" >
		<![CDATA[		
		) WHERE RNUM > $min$
		]]>
		</isNotEmpty>
    </select>
    
     <select id="JeonjuBusDAO.selectBaseInfoBusRoute"  parameterClass="jeonjuBaseInfoBusRouteVO" resultClass="jeonjuBaseInfoBusRouteVO" >
     <isNotEmpty property="min" >
    	SELECT * FROM (
	</isNotEmpty>		
	<isNotEmpty property="max" >
			SELECT ROWNUM AS RNUM, A.* FROM (
		</isNotEmpty>
	
				SELECT * FROM BIS.BUSROUTE ORDER BY BRT_STDID ASC
				
		<isNotEmpty property="max" >		
		<![CDATA[
			) A WHERE ROWNUM <= $max$ 
			]]>
			</isNotEmpty>
			
		<isNotEmpty property="min" >
		<![CDATA[		
		) WHERE RNUM > $min$
		]]>
		</isNotEmpty>
    </select>
    
    <select id="JeonjuBusDAO.selectBaseInfoBusOperation"  parameterClass="jeonjuBaseInfoBusOperationVO" resultClass="jeonjuBaseInfoBusOperationVO" >
     <isNotEmpty property="min" >
    	SELECT * FROM (
	</isNotEmpty>		
	<isNotEmpty property="max" >
			SELECT ROWNUM AS RNUM, A.* FROM (
		</isNotEmpty>
	
				SELECT * FROM BIS.BUSOPERATION ORDER BY BRT_STDID ASC
				
		<isNotEmpty property="max" >		
		<![CDATA[
			) A WHERE ROWNUM <= $max$ 
			]]>
			</isNotEmpty>
			
		<isNotEmpty property="min" >
		<![CDATA[		
		) WHERE RNUM > $min$
		]]>
		</isNotEmpty>
    </select>
    
</sqlMap>
 